<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Ingenieria-CUNOC</title>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        <meta name="description" content=""/>
        <meta name="author" content=""/>

        <!-- Custom fonts for this template-->
        <link href="resources/theme/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css"/>
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet"/>

        <!-- Custom styles for this template-->
        <link href="resources/theme/css/sb-admin-2.min.css" rel="stylesheet"/>
    </h:head>





    <h:body class="bg-gradient-primary">

        <p:growl id="growl" showDetail="false" />  
        <h:form id="frmLogin">            






            <div class="container">

                <!-- Outer Row -->
                <div class="row justify-content-center">

                    <div class="col-xl-10 col-lg-12 col-md-9">

                        <div class="card o-hidden border-0 shadow-lg my-5">
                            <div class="card-body p-0">
                                <!-- Nested Row within Card Body -->
                                <div class="row">
                                    <div align="center" class="alineado">
                                        <img src="resources/img/fondo-02.jpg"  width="465" height="550"  ></img> 
                                       <!-- <img src="resources/img/ingenieria-silver-logo.png"  width="465" height="465"  ></img> --> 
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="p-5">
                                            <div class="text-center">
                                                <h1 class="h4 text-gray-900 mb-4">Bienvenido!</h1>
                                            </div>

                                            <div class="form-group">

                                                <p:inputText id="name" styleClass="form-control" required="true"
                                                             pt:required="true" value="#{loginView.userCarnet}"
                                                             class="form-control form-control-user"
                                                             placeholder="Ingrese su carnet o su ID"
                                                             />
                                            </div>
                                            <div class="form-group">


                                                <p:password id="pass" styleClass="form-control" pt:placeholder="Contraseña" required="true"
                                                            pt:required="true" value="#{loginView.password}" pt:type="password"
                                                            requiredMessage="Ingrese contrasena"
                                                            class="form-control form-control-user"
                                                            placeholder="Contraseña"
                                                            />
                                            </div>
                                            <div class="form-group">
                                                <div class="custom-control custom-checkbox small">
                                                    <input type="checkbox" class="custom-control-input" id="customCheck"/>
                                                    <label class="custom-control-label" for="customCheck">Recuerdame</label>
                                                </div>
                                            </div>

                                            <p:commandLink styleClass="btn btn-primary"
                                                           update="@form,:growl" 
                                                           validateClient="true"
                                                           action="#{loginView.login}"   
                                                           ajax="false"
                                                           style="width: 100%"
                                                           >
                                                <span class="glyphicon glyphicon-log-in"></span> Ingresar
                                            </p:commandLink>
                                            <hr></hr>
                                            <a href="http://ingenieria.cunoc.usac.edu.gt/portal/" class="btn btn-google btn-user btn-block">
                                                <i class="fab fa-google fa-fw"></i> Google
                                            </a>
                                            <a href="https://www.facebook.com/groups/111498792233712" class="btn btn-facebook btn-user btn-block">
                                                <i class="fab fa-facebook-f fa-fw"></i> Facebook
                                            </a>

                                            <hr></hr>
                                            <div class="text-center">

                                                <p:commandLink  
                                                    class="small"
                                                    oncomplete="PF('dlgReset').show();"
                                                    value="Olvidaste tu contraseña?"
                                                    update=":#{p:component('dlgReset')}">
                                                </p:commandLink>
                                            </div>
                                            <div class="text-center">
                                                <a class="small" href="404.html">Crear una cuenta</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>

            </div>




            <p:messages  globalOnly="true"/>

        </h:form>

        <p:dialog header="Recuperar Contrasena" id="dlgReset" widgetVar="dlgReset"
                  fitViewport="true" modal="true" closeOnEscape="true">
            <p:ajax event="close" listener="#{loginView.clean()}" update="@this" />
            <h:form>
                <div class="modal-body">
                    <fieldset>
                        <div class="row form-group">
                            <p:outputLabel for="carnet" value="Carnet o ID:" styleClass="col-md-4 control-label"/>
                            <div class="col-md-8">
                                <p:inputText id="carnet" styleClass="form-control"
                                             pt:required="true" maxlength="45" required="true"
                                             value="#{loginView.carnetReset}"/>
                            </div>
                        </div>
                        <div class="row form-group">
                            <p:outputLabel for="emailU" value="Correo" styleClass="col-md-4 control-label"/>
                            <div class="col-md-8">
                                <p:inputText id="emailU" styleClass="form-control" placeholder="micorreo@correo.com"
                                             pt:required="true" maxlength="45" required="true"
                                             value="#{loginView.email}"/>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <div class="modal-footer ">
                    <p:commandLink styleClass="btn btn-warning btn-lg" style="width: 100%;"
                                   update="@form,:#{p:component('growl')}"
                                   actionListener="#{loginView.resetPassword('dlgReset')}">
                        <span class="glyphicon glyphicon-ok-sign"></span> Cambiar Contraseña
                    </p:commandLink>
                </div>
            </h:form>
        </p:dialog>







        <!-- Bootstrap core JavaScript-->
        <!--<script src="resources/theme/vendor/jquery/jquery.min.js"></script>-->
        <script src="resources/theme/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

        <!-- Core plugin JavaScript-->
        <script src="resources/theme/vendor/jquery-easing/jquery.easing.min.js"></script>

        <!-- Custom scripts for all pages-->
        <script src="resources/theme/js/sb-admin-2.min.js"></script>


    </h:body>
</html>

